<%- include('../helper/Heading-Page.ejs', {title:'Edit'}); %>
<section class="content">
   <div class="box box-primary">
    <div class="filterBar">
            <div class="filterBarRight">
                <a href="/admin/<%= extraVar.viewDirectory %>/<%= extraVar.product_id %>"  class="btn-view-list"><i class="fa fa-list" aria-hidden="true"></i> View Listing</a>
            </div>
        </div>
        <!-- form start -->
        <form role="form" id='formSubmit' name='' method='post' action='/admin/<%= extraVar.viewDirectory %>/update' enctype="multipart/form-data">
            <input type='hidden' name='id' value='<%= results.my_model.id %>'>
            <div class="box-body">
                <div class="row col-md-ib">
                    <div class="col-md-4">
                         <div class="form-group">
                            <label for="exampleInputEmail1">Bench Name<em>*</em></label>
                            <input type="text" class="form-control" value="<%= results.my_model.bench_name %>" id="bench_name" placeholder="Enter Bench name" name='bench_name' >
                            <label class="error_mgs_lable" id="bench_name_error"></label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="exampleInputEmail1">Contact no.<em>*</em></label>
                            <input type="text" class="form-control" value="<%= results.my_model.contact_no %>" id="contact_no" placeholder="Enter Contact no" name='contact_no' >
                            <label class="error_mgs_lable" id="contact_no_error"></label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group custom-select-outer">
                            <label for="exampleInputEmail1">Country<em>*</em></label>
                            <select class="form-control select2 " name="country_id" id="country_id" onChange="getDbValuesByIds(this, 'State', ['country_id'], [Number(this.value)], 'state_name asc', 'state_id', ['id', 'state_name'], ['division_id', 'district_id', 'tehsil_id']);">
                                <option value="">--Please Select--</option>
                                <% results.country.forEach(function(value,index){  %>
                                <option value="<%= value.id %>" <% if(results.my_model.country_id==value.id){ %>selected<% } %> ><%= value.country_name %></option>
                                <% });  %>
                            </select>
                            <label class="error_mgs_lable" id="country_id_error"></label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group custom-select-outer">
                            <label for="exampleInputEmail1">State<em>*</em></label>
                            <select class="form-control select2" name="state_id" id="state_id" onChange="getDbValuesByIds(this, 'Division', ['state_id'], [Number(this.value)], 'division_name asc', 'division_id', ['id', 'division_name'], ['district_id', 'tehsil_id']);">
                                <option value="">--Please Select--</option>
                                <% results.states.forEach(function(value,index){  %>
                                <option value="<%= value.id %>" <% if(results.my_model.state_id==value.id){ %>selected<% } %>><%= value.state_name %></option>
                                <% });  %>
                            </select>
                            <label class="error_mgs_lable" id="state_id_error"></label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group custom-select-outer">
                            <label for="exampleInputEmail1">Division<em>*</em></label>
                            <select class="form-control select2" name="division_id" id="division_id" onChange="getDbValuesByIds(this, 'District', ['division_id'], [Number(this.value)], 'district_name asc', 'district_id', ['id', 'district_name'], ['tehsil_id']);">
                                <option value="">--Please Select--</option>
                                <% results.divisions.forEach(function(value,index){  %>
                                <option value="<%= value.id %>" <% if(results.my_model.division_id==value.id){ %>selected<% } %> ><%= value.division_name %></option>
                                <% });  %>
                            </select>
                            <label class="error_mgs_lable" id="division_id_error"></label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group custom-select-outer">
                            <label for="exampleInputEmail1">District<em>*</em></label>
                            <select class="form-control select2" name="district_id" id="district_id" onChange="getDbValuesByIds(this, 'Tehsil', ['district_id'], [Number(this.value)], 'tehsil_name asc', 'tehsil_id', ['id', 'tehsil_name'], []);">
                                <option value="">--Please Select--</option>
                                <% results.districts.forEach(function(value,index){  %>
                                <option value="<%= value.id %>" <% if(results.my_model.district_id==value.id){ %>selected<% } %> ><%= value.district_name %></option>
                                <% });  %>
                            </select>
                            <label class="error_mgs_lable" id="district_id_error"></label>
                        </div>  
                    </div>
                    <div class="col-md-4">
                        <div class="form-group custom-select-outer">
                            <label for="exampleInputEmail1">Tehsil<em>*</em></label>
                            <select class="form-control select2" name="tehsil_id" id="tehsil_id">
                                <option value="">--Please Select--</option>
                                <% results.tehsils.forEach(function(value,index){  %>
                                <option value="<%= value.id %>" <% if(results.my_model.tehsil_id==value.id){ %>selected<% } %> ><%= value.tehsil_name %></option>
                                <% });  %>
                            </select>
                            <label class="error_mgs_lable" id="tehsil_id_error"></label>
                        </div>
                    </div>
                    <div class="col-md-4">
                         <div class="form-group">
                            <label for="exampleInputEmail1">Area/Town/Kasba<em>*</em></label>
                            <input type="text" class="form-control" value="<%= results.my_model.area %>" id="area" placeholder="Enter Area" name='area' >
                            <label class="error_mgs_lable" id="area_error"></label>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="exampleInputEmail1">Address<em>*</em></label>
                            <input type="text" class="form-control" id="area"  name='address' value='<%= results.my_model.address %>'>
                            <label class="error_mgs_lable" id="address_error"></label>
                        </div>
                    </div>


                    <div class="col-md-12">
                        <div class="form-group">
                            <div class="chk-outer">
                                                          
                                    <input type="checkbox" name="is_active"  id="is_active" <%= (results.my_model.is_active==0)? '':'checked' %> > <label for="is_active"> Status
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="box-footer">
                <div class="row">
                    <div class="col-md-12 text-right">
                       <%- include('../helper/commonHtml.ejs', {htmlType:'SaveCancel'}); %>
                    </div>
                </div>
            </div>       
        </form>
     </div>
 </section>

<script>
    $('.startdate').datepicker({
        format: 'dd-mm-yyyy',
        startDate: '-d',
        todayHighlight: true,
        autoclose: true,
    });
    $('.enddate').datepicker({
        format: 'dd-mm-yyyy',
        startDate: '+1d',
        todayHighlight: true,
        autoclose: true,
    });
</script>